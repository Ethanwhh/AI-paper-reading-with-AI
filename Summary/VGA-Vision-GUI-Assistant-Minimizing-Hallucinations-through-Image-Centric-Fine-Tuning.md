# VGA: Vision GUI Assistant -- Minimizing Hallucinations through Image-Centric Fine-Tuning

## 思维导图
![思维导图](/imgs/VGA-Vision-GUI-Assistant-Minimizing-Hallucinations-through-Image-Centric-Fine-Tuning.jpg)

## 全文总结

VGA: Vision GUI Assistant - Minimizing Hallucinations through Image-Centric Fine-Tuning提出了针对图形用户界面（GUI）理解任务中视觉语言模型（VLM）易产生幻觉问题的解决方案 ——VGA 模型。通过构建特定数据集和独特的两阶段微调方法，VGA 在 GUI 理解任务上取得了先进性能，为后续研究提供了有价值的资源和方法借鉴。

### 研究背景与动机

- **VLM 在 GUI 理解的应用与局限**：大型视觉语言模型（VLMs）在多模态任务中表现出色，但应用于 GUI 理解时，现有模型常过度依赖文本知识而忽视视觉输入，导致在 GUI 理解任务中产生与视觉内容不符的 “幻觉”，影响实际应用效果。

- **传统 GUI 理解方法的不足**：传统方法包括基于代码和视觉的途径，前者依赖功能规范或代码分析，后者通过模板匹配和 OCR 等技术处理视觉信息，但都无法像人类一样与 GUI 进行交互。而利用 LVLMs 的现代方法虽有优势，但也存在对预训练知识过度依赖、忽视视觉内容的问题。

### VGA 模型的构建与训练

- **数据集构建**

  - **数据来源与处理**：基于 Rico 数据集构建，因其包含大量 GUI 屏幕及元素信息。但 Rico 的文本数据需转换为符合 VQA 数据集的格式，为此进行了数据预处理，如去除不可见元素、归一化边界值并添加点击坐标属性。

  - **任务设计与生成**：设计了描述、边界与位置、功能等子任务，并据此将数据集分为指令集和对话集。利用 GPT - 4 和 GPT - 4o 分别从 Android 视图层次结构和图像中提取信息生成数据集，最终包含 63.8k 图像及相应的问答对。

- **两阶段微调方法**

  - **基础阶段（Foundation Stage）**：使用固定格式的指令跟随数据集，将问题和回答格式固定，使模型专注于学习图像与回答的关联，培养从图像中提取信息的能力，不受文本内容变化的干扰。

  - **高级理解阶段（Advanced Comprehensive Stage）**：引入多轮对话和复杂问题，运用参照方法将直观视觉信息融入回答，引导模型关注图像标记，基于 GUI 实际布局和视觉线索生成更准确的回答。同时，采用任务递进和强化策略，按从简单到复杂的顺序组织任务，增强模型推理能力。

### 实验设计与结果

- **实验设置**：以 llava - v1.6 - mistral - 7b 为基础模型，使用特定的训练参数（如学习率、批量大小等）在一台 A100 (80GB) 机器上进行训练，并对比了多种先进的 LVLMs 模型。

- **结果分析**

  - **GUI 理解性能**：在 GUI 理解任务中，VGA - 7b - v1 表现优异，在三次 GPT 评估中平均得分 90.83，相比 llava - v1.6 - mistral - 7b、idefics2 - 8b 和 MiniCPM - llama3 - V - 2.5 分别提高了 41%、54% 和 29%，且超越了 GPT - 4o 和 GPT - 4V，成为该领域的 SOTA 模型。

  - **资源效率**：即使在低分辨率输入（VGA - 7b - v1*）下，其性能仍优于部分模型，尽管图像标记数量仅为其他模型的四分之一，但对 GUI 图像仍有较强理解能力，同时提高了推理速度、降低了计算成本和内存使用。

  - **幻觉分析**：相比其他模型，VGA 能基于图像内容准确回答问题，通过对 GUI 组件的相对位置、颜色和形状等细节描述，有效减少了幻觉现象。

  - **FAC 方法有效性**：通过对模型训练过程中损失收敛的分析以及消融实验表明，两阶段的 FAC 微调方法能使模型更稳定收敛，且在 GUI 理解和遵循人类意图方面表现更优，证明了该方法对提升模型性能的重要作用。

### 研究贡献与局限

- **主要贡献**：构建了大规模 GUI 语料库用于 LVLM 微调；提出了专门用于 GUI 任务的 VGA 模型；设计了有效的两阶段微调方法提升 LVLMs 性能；在实际 GUI 任务中取得显著性能提升。

- **研究局限**：数据集存在噪声可能影响模型性能；受基础模型能力限制，部分回答可能不准确；数据集基于 Rico，其 GUI 图像设计风格较旧。未来将致力于解决这些问题，如清理数据集、尝试更先进的基础模型以及更新数据集。

### 伦理声明与致谢

- **伦理声明**：在开发过程中确保遵守所用模型和数据集的条款，虽已采取措施，但模型因生成性仍存在生成错误信息、有害内容的风险。

- **致谢**：感谢匿名评审者的有益评论以及字节跳动的支持。


